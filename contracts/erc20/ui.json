{
  "version": 1,
  "id": "solui-repo-erc20",
  "title": "ERC-20",
  "description": "Deploy your own ERC-20 token and manage it.",
  "aboutUrl": "https://github.com/solui/demo",
  "image": {
    "url": "https://upload.wikimedia.org/wikipedia/commons/5/5a/Basic_Attention_Token_Icon.svg"
  },
  "panels": [
    {
      "id": "create",
      "title": "Create token",
      "description": "Deploy new ERC-20 tokens.",
      "image": {
        "url": "https://upload.wikimedia.org/wikipedia/commons/8/89/Google-Cloud-Functions.svg"
      },
      "inputs": [
        {
          "name": "name",
          "title": "Name",
          "type": "string",
          "validation": [
            {
              "type": "length",
              "min": "5",
              "max": "100"
            }
          ]
        },
        {
          "name": "symbol",
          "title": "Symbol",
          "type": "string",
          "validation": [
            {
              "type": "length",
              "min": "2",
              "max": "10"
            }
          ]
        },
        {
          "name": "initialSupply",
          "title": "Initial no. of tokens",
          "type": "uint",
          "unit": "eth",
          "validation": [
            {
              "type": "range",
              "min": "1",
              "max": "1000000000"
            }
          ]
        }
      ],
      "execs": [
        {
          "type": "deploy",
          "contract": "ERC20",
          "args": {
            "_name": "@input[name]",
            "_symbol": "@input[symbol]",
            "_initialSupply": "@input[initialSupply]"
          },
          "saveResultAsInput": "contractAddress"
        }
      ],
      "outputs": [
        {
          "title": "New contract address",
          "type": "address",
          "value": "@input[contractAddress]"
        }
      ]
    },
    {
      "id": "view",
      "title": "View data",
      "description": "View token details, balances and allowances.",
      "image": {
        "url": "https://upload.wikimedia.org/wikipedia/commons/3/38/Info_Simple.svg"
      },
      "inputs": [
        {
          "name": "contractAddress",
          "title": "Token contract address",
          "type": "address",
          "validation": [
            {
              "type": "allowedTypes",
              "contract": true
            }
          ]
        }
      ],
      "execs": [
        {
          "type": "call",
          "contract": "ERC20",
          "address": "@input[contractAddress]",
          "method": "name",
          "saveResultAsInput": "tokenName"
        },
        {
          "type": "call",
          "contract": "ERC20",
          "address": "@input[contractAddress]",
          "method": "symbol",
          "saveResultAsInput": "tokenSymbol"
        },
        {
          "type": "call",
          "contract": "ERC20",
          "address": "@input[contractAddress]",
          "method": "totalSupply",
          "saveResultAsInput": "tokenSupply"
        }
      ],
      "outputs": [
        {
          "title": "Name",
          "type": "string",
          "value": "@input[tokenName]"
        },
        {
          "title": "Symbol",
          "type": "string",
          "value": "@input[tokenSymbol]"
        },
        {
          "title": "Total supply",
          "type": "string",
          "value": "@input[tokenSupply]"
        }
      ]
    },
    {
      "id": "approve-allowance",
      "title": "Approve allowance",
      "description": "Approve other people to transfer on one's behalf.",
      "image": {
        "url": "https://upload.wikimedia.org/wikipedia/commons/7/73/Flat_tick_icon.svg"
      },
      "inputs": [
        {
          "name": "contractAddress",
          "title": "Token contract address",
          "type": "address",
          "validation": [
            {
              "type": "allowedTypes",
              "contract": true
            }
          ]
        },
        {
          "name": "spender",
          "title": "Spender",
          "type": "address",
          "validation": [
            {
              "type": "allowedTypes",
              "contract": true,
              "eoa": true
            }
          ]
        },
        {
          "name": "amount",
          "title": "Amount",
          "type": "uint",
          "unit": "eth",
          "validation": [
            {
              "type": "range",
              "min": "1",
              "max": "1000000000"
            }
          ]
        }
      ],
      "execs": [
        {
          "type": "send",
          "contract": "ERC20",
          "address": "@input[contractAddress]",
          "method": "approve",
          "args": {
            "spender": "@input[spender]",
            "amount": "@input[amount]"
          }
        }
      ]
    },
    {
      "id": "transfer",
      "title": "Send",
      "description": "Transfer tokens.",
      "image": {
        "url": "https://upload.wikimedia.org/wikipedia/commons/0/0c/Message_%28Send%29.png"
      },
      "inputs": [
        {
          "name": "contractAddress",
          "title": "Token contract address",
          "type": "address",
          "validation": [
            {
              "type": "allowedTypes",
              "contract": true
            }
          ]
        },
        {
          "name": "recipient",
          "title": "Recipient",
          "type": "address",
          "validation": [
            {
              "type": "allowedTypes",
              "eoa": true
            }
          ]
        },
        {
          "name": "amount",
          "title": "Amount to send",
          "type": "uint",
          "unit": "eth",
          "validation": [
            {
              "type": "range",
              "min": "1",
              "max": "1000000000"
            }
          ]
        }
      ],
      "execs": [
        {
          "type": "send",
          "contract": "ERC20",
          "address": "@input[contractAddress]",
          "method": "transfer",
          "args": {
            "recipient": "@input[recipient]",
            "amount": "@input[amount]"
          }
        }
      ]
    },
    {
      "id": "transfer-on-behalf",
      "title": "Send on behalf",
      "description": "Transfer tokens on behalf of someone.",
      "image": {
        "url": "https://upload.wikimedia.org/wikipedia/commons/0/0c/Message_%28Send%29.png"
      },
      "inputs": [
        {
          "name": "contractAddress",
          "title": "Token contract address",
          "type": "address",
          "validation": [
            {
              "type": "allowedTypes",
              "contract": true
            }
          ]
        },
        {
          "name": "from",
          "title": "From",
          "type": "address",
          "validation": [
            {
              "type": "allowedTypes",
              "contract": true,
              "eoa": true
            }
          ]
        },
        {
          "name": "to",
          "title": "To",
          "type": "address",
          "validation": [
            {
              "type": "allowedTypes",
              "contract": true,
              "eoa": true
            },
            {
              "type": "compareToField",
              "field": "from",
              "operation": "notEqual"
            }
          ]
        },
        {
          "name": "amount",
          "title": "Amount to send",
          "type": "uint",
          "unit": "eth",
          "validation": [
            {
              "type": "range",
              "min": "1",
              "max": "1000000000"
            }
          ]
        }
      ],
      "execs": [
        {
          "type": "send",
          "contract": "ERC20",
          "address": "@input[contractAddress]",
          "method": "transferFrom",
          "args": {
            "sender": "@input[from]",
            "recipient": "@input[to]",
            "amount": "@input[amount]"
          }
        }
      ]
    }
  ]
}
